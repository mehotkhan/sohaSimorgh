(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{540:function(t,e,r){},580:function(t,e){},605:function(t){t.exports=JSON.parse('{"initialPlaying":{"startFrom":"Black.Mirror.Bandersnatch.0.480.mp4","basePath":"https://stream.movajehemovie.ir/"},"chapterLists":[{"title":"Bandersnatch","file":"Black.Mirror.Bandersnatch.0.480.mp4","nextPath":["Black.Mirror.Bandersnatch.1.480.mp4","Black.Mirror.Bandersnatch.2.480.mp4"],"defaultPath":"Black.Mirror.Bandersnatch.1.480.mp4"},{"title":"Sugar puffs","file":"Black.Mirror.Bandersnatch.1.480.mp4","defaultPath":"Black.Mirror.Bandersnatch.3.480.mp4"},{"title":"Frosties","file":"Black.Mirror.Bandersnatch.2.480.mp4","defaultPath":"Black.Mirror.Bandersnatch.3.480.mp4"},{"title":"Bandersnatch","file":"Black.Mirror.Bandersnatch.3.480.mp4","nextPath":["Black.Mirror.Bandersnatch.4.480.mp4","Black.Mirror.Bandersnatch.5.480.mp4"],"defaultPath":"Black.Mirror.Bandersnatch.4.480.mp4"},{"title":"Thomson twins","file":"Black.Mirror.Bandersnatch.4.480.mp4","defaultPath":"Black.Mirror.Bandersnatch.6.480.mp4"},{"title":"Now 2","file":"Black.Mirror.Bandersnatch.5.480.mp4","defaultPath":"Black.Mirror.Bandersnatch.6.480.mp4"},{"title":"Work With tackersoft","file":"Black.Mirror.Bandersnatch.6.480.mp4","nextPath":["Black.Mirror.Bandersnatch.7.480.mp4","Black.Mirror.Bandersnatch.8.480.mp4"],"defaultPath":"Black.Mirror.Bandersnatch.8.480.mp4"},{"title":"Accept","file":"Black.Mirror.Bandersnatch.7.480.mp4"},{"title":"Refuse","file":"Black.Mirror.Bandersnatch.8.480.mp4","nextPath":["Black.Mirror.Bandersnatch.9.480.mp4","Black.Mirror.Bandersnatch.10.480.mp4"],"defaultPath":"Black.Mirror.Bandersnatch.9.480.mp4"},{"title":"I Talk","file":"Black.Mirror.Bandersnatch.9.480.mp4"},{"title":"No","file":"Black.Mirror.Bandersnatch.10.480.mp4"}]}')},606:function(t,e,r){"use strict";r(540)},664:function(t,e,r){"use strict";r.r(e);r(7),r(17),r(21),r(41),r(218),r(533),r(507);var a=r(652),i=r(605);Promise.all([r.e(0),r.e(25)]).then(r.t.bind(null,659,7)),Promise.all([r.e(0),r.e(23)]).then(r.t.bind(null,660,7));var n={name:"InteractivePlayer",data:function(){return{showOverlay:!1,currentChapter:null,currentChapterTitle:null,nextChapter:null,nextChapterBlobURL:null,currentChapterBlobUrl:null,nextChapterPercentage:0,rightPath:null,leftPath:null,playing:!1,preLoading:!1,selected:!1,player:null,videoOptions:{autoplay:!1,controls:!1,preload:"auto"}}},mounted:function(){this.player=Object(a.a)(this.$refs.videoPlayer,this.videoOptions,null);var t=i.initialPlaying.startFrom;this.preLoad(i.initialPlaying.basePath+t),this.currentChapter=t;var e=this;this.player.on("timeupdate",(function(){e.timeRules(this.currentTime(),this.duration())}))},computed:{},methods:{timeRules:function(t,e){var r=this,a=a||i.chapterLists.filter((function(t){return t.file===r.currentChapter}))[0];if(!this.preLoading&&null===this.nextChapterBlobURL&&void 0!==a&&void 0!==a.defaultPath){console.log("Rule one");var n=a.defaultPath;this.preLoad(i.initialPlaying.basePath+n),this.nextChapter=n}0!==t&&t>e-13&&void 0!==a&&void 0!==a.nextPath&&!this.showOverlay&&!this.selected&&(console.log("Rule Two"),this.showOverlay=!0,this.rightPath=i.chapterLists.filter((function(t){return t.file===a.nextPath[1]}))[0].title,this.leftPath=i.chapterLists.filter((function(t){return t.file===a.nextPath[0]}))[0].title),t>e-.1&&null!==this.currentChapter&&(console.log("Rule Three"),this.currentChapterBlobUrl=JSON.parse(JSON.stringify(this.nextChapterBlobURL)),this.showOverlay=!1,null!==this.nextChapter?(this.player.src({type:"video/mp4",src:this.currentChapterBlobUrl}),this.player.load(),this.player.play()):(console.log("stopping"),this.player.pause(),this.playing=!1),console.log("ding"),console.log(a),this.currentChapter=JSON.parse(JSON.stringify(this.nextChapter)),this.nextChapterBlobURL=null,this.nextChapter=null,this.selected=!1)},playMe:function(){this.player.src()||this.player.src({type:"video/mp4",src:this.currentChapterBlobUrl}),this.player.play(),this.playing=!0},stopMe:function(){this.player.pause(),this.playing=!1},rightChoice:function(){var t=this;this.nextChapter=i.chapterLists.filter((function(e){return e.title===t.rightPath}))[0].file,this.preLoad(i.initialPlaying.basePath+this.nextChapter),this.selected=!0,this.showOverlay=!1},leftChoice:function(){var t=this;this.nextChapter=i.chapterLists.filter((function(e){return e.title===t.leftPath}))[0].file,this.preLoad(i.initialPlaying.basePath+this.nextChapter),this.selected=!0,this.showOverlay=!1},forward:function(){this.player.currentTime(this.player.currentTime()+5)},backward:function(){this.player.currentTime(this.player.currentTime()-5)},preLoad:function(t){console.log("start preloading"),this.preLoading=!0;var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer";var r=this;e.onload=function(t){var e=new Blob([t.target.response],{type:"video/mp4"});r.currentChapterBlobUrl?r.nextChapterBlobURL=URL.createObjectURL(e):r.currentChapterBlobUrl=URL.createObjectURL(e)},e.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total;r.nextChapterPercentage=e}},e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(r.preLoading=!1)},e.send(),console.log("end preloading")}},beforeDestroy:function(){this.player&&this.player.dispose()}},l=(r(606),r(24)),s=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"player"},[r("div",{staticClass:"video-overlay",attrs:{hidden:!t.showOverlay}},[r("div",{staticClass:"uk-child-width-expand@s uk-text-center uk-height-1-1",attrs:{"uk-grid":""}},[r("div",{staticClass:"\n            chapter\n            uk-flex uk-flex-middle uk-text-center uk-flex-around uk-height-1-1\n          ",on:{click:t.rightChoice}},[r("h2",[t._v(t._s(this.rightPath))])]),t._v(" "),r("div",{staticClass:"\n            chapter\n            uk-flex uk-flex-middle uk-text-center uk-flex-around uk-height-1-1\n          ",on:{click:t.leftChoice}},[r("h2",[t._v(t._s(this.leftPath))])])])]),t._v(" "),r("video",{ref:"videoPlayer",staticClass:"video-js vjs-theme-forest",attrs:{options:t.videoOptions}})]),t._v(" "),r("div",{staticClass:"uk-flex uk-flex-between"},[r("div",{},[r("span",[t._v(t._s(t.nextChapterPercentage?parseFloat(100*t.nextChapterPercentage).toFixed(2)+"%":""))])]),t._v(" "),r("div",{staticClass:"control"},[r("button",{staticClass:"uk-margin-small-left uk-button uk-button-link",on:{click:t.forward}},[t._v("\n        <<< ۵ ثانیه\n      ")]),t._v(" "),r("button",{staticClass:"uk-button uk-button-link",attrs:{hidden:t.playing},on:{click:t.playMe}},[t._v("\n        پخش کردن\n      ")]),t._v(" "),r("button",{staticClass:"uk-button uk-button-link",attrs:{hidden:!t.playing},on:{click:t.stopMe}},[t._v("\n        توقف\n      ")]),t._v(" "),r("button",{staticClass:"uk-margin-small-right uk-button uk-button-link",on:{click:t.backward}},[t._v("\n        ۵ ثانیه >>>\n      ")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);